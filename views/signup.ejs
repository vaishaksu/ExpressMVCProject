<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/styles.css">
        <link rel="stylesheet" href="css/login.css">
        <script src="scripts/scripts.js"></script>
    </head>
    <body>
        <div class="login-box">
            <h2>Signup</h2>
            <% if(error) { %>
              <div class="text-red"><%= error %></div>
            <% } %>
            <form action="registerUser" method="post" enctype="multipart/form-data">
              <div>
                <label for="img"> Upload Image </label>
                <input type="file" name="img" id="img" onchange="loadFile(event)"/>
                <!-- <img id="output" class="img-call" src="" width="50px" height="50px"> -->
                <div class="image-preview" id="imagepreview">
                  <img src="" alt="Image preview" class="image-preview_image">
                  <span class="image-preview__default-text"></span>
              </div>
              </div>
              <br/>
              <br />
              <div class="user-box">
                <input type="text" name="first_name" required="">
                <label>First Name</label>
              </div>

              <div class="user-box">
                <input type="text" name="last_name" required="">
                <label>Last Name</label>
              </div>

              <div class="user-box">
                <input type="email" name="email" required="">
                <label>Email</label>
              </div>

              <div class="user-box">
                <input type="password" name="password" required="">
                <label>Password</label>
              </div>

              <div class="user-box">
               <input type="password" name="confirmPassword" required="">
               <label>Confirm Password</label>
              </div>
              <!-- <a href="#">
                <span></span>
                <span></span>
                <span></span>
                <span></span>
                SignUp
              </a> -->
              <input type="submit" value="Submit"/>
            </form>
          </div>

          <script>

            //for image preview section
            const inpFile =document.getElementById("img");
            const previewContainer=document.getElementById("imagepreview");
            const previewImage=previewContainer.querySelector(".image-preview_image");
            const previewDefaultText = previewContainer.querySelector(".image-preview_image");

            inpFile.addEventListener("change",function(){
                const file=this.files[0];

                if(file){
                    const reader = new FileReader();
                    previewDefaultText.style.display="none";
                    previewImage.style.display="block";
                    
                    reader.addEventListener("load",function(){
                        previewImage.setAttribute("src",this.result);
                    });

                    reader.readAsDataURL(file);
                }
                else{
                    previewDefaultText.style.display=null;
                    previewImage.style.display=null;
                    previewImage.setAttribute("src", "");
                }

            });



            
        </script>
    </body>
</html>